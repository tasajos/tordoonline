

<app-cabecerx></app-cabecerx>
<br>
<br>
<br>
<p></p>
<br>
<p></p>
<br>
<p></p>

<div class="d-flex justify-content-center mb-3">
  <button mat-fab color="primary" aria-label="Example icon button with a home icon" (click)="redirectToHome()">
      <mat-icon>home</mat-icon>
  </button>
</div>


<!--Codigo de distribucion de asientos-->


<ng-container *ngIf="numeroAsientos === 39">
  <table class="outer-table" style="width: 60%;">
    <tr>
      <td colspan="2"> <!-- Agregar una fila con dos columnas -->
        <div style="width: 50%; float: left;text-align: center; background-color: aqua;">Segundo Piso</div>
        <div style="width: 50%; float: right; text-align: center; background-color: blanchedalmond;" >Primer Piso</div>
      </td>
      
    </tr>
    <br>
    <tr>
      <td style="width: 50%;">
        <table style="border-collapse: collapse; width: 100%;" border="1">
          <tbody>
            <ng-container *ngFor="let row of asiento39v; let rowIndex = index">
              <tr>
                <ng-container *ngFor="let numeroAsiento of row; let colIndex = index">
                  <td style="width: 6.28258%; padding: 10px;">
                    <ng-container *ngIf="numeroAsiento !== null; else emptyCell">
                      <div [ngStyle]="{'background-color': isSeatSold(numeroAsiento) ? '#E2D162' : 'transparent'}">
                        <img src="../../../assets/img/asiento_tierra.png" alt="Imagen del asiento" style="max-width: 60px; height: auto;">
                        {{ numeroAsiento }}
                        <span *ngIf="isSeatSold(numeroAsiento)" class="sold-text">Vendido</span>
                      </div>
                    </ng-container>
                    <ng-template #emptyCell>
                      <div style="height: 40px; width: 60px;"></div>
                    </ng-template>
                    <ng-container *ngIf="numeroAsiento !== null">
                      <div style="margin-top: 10px;"></div>
                      <button mat-raised-button color="primary" [routerLink]="isSeatSold(numeroAsiento) ? null : ['/ventapasaje']"
                        [queryParams]="{
                          asiento: numeroAsiento,
                          origen: origen,
                          destino: destino,
                          tipo: tipo,
                          fecharegistro: fecharegistro,
                          placa: placa,
                          hora: hora,
                          precio: precio
                        }"
                        [disabled]="isSeatSold(numeroAsiento)"
                        (click)="openSoldSeatModal(numeroAsiento)">Comprar</button>
                    </ng-container>
                  </td>
                </ng-container>
              </tr>
              <tr *ngIf="rowIndex === 2 || rowIndex === 5">
                <td colspan="10" style="height: 20px;"></td>
              </tr>
            </ng-container>
          </tbody>
        </table>
      </td>
      <td style="width: 60%;">
        <!-- Aquí puedes colocar la imagen que desees -->
        <img src="../../../assets/img/bus_aereo.png" alt="Tu imagen" style="max-width: 80%; height: auto;">
      </td>
    </tr>
  </table>
</ng-container>



<ng-container *ngIf="numeroAsientos === 49">
  <!-- Contenido para 49 asientos -->
  <app-distrbus49></app-distrbus49>
</ng-container>

<ng-container *ngIf="numeroAsientos === 16">
  <table class="outer-table" style="width: 60%;">
      <tr>
      <td style="width: 50%;">
        <table style="border-collapse: collapse; width: 100%;" border="1">
          <tbody>
            <ng-container *ngFor="let row of asiento16v; let rowIndex = index">
              <tr>
                <ng-container *ngFor="let numeroAsiento of row; let colIndex = index">
                  <td style="width: 6.28258%; padding: 10px;">
                    <ng-container *ngIf="numeroAsiento !== null; else emptyCell">
                      <div [ngStyle]="{'background-color': isSeatSold(numeroAsiento) ? '#E2D162' : 'transparent'}">
                        <img src="../../../assets/img/asiento_tierra.png" alt="Imagen del asiento" style="max-width: 60px; height: auto;">
                        {{ numeroAsiento }}
                        <span *ngIf="isSeatSold(numeroAsiento)" class="sold-text">Vendido</span>
                      </div>
                    </ng-container>
                    <ng-template #emptyCell>
                      <div style="height: 40px; width: 60px;"></div>
                    </ng-template>
                    <ng-container *ngIf="numeroAsiento !== null">
                      <div style="margin-top: 10px;"></div>
                      <button mat-raised-button color="primary" [routerLink]="isSeatSold(numeroAsiento) ? null : ['/ventapasaje']"
                        [queryParams]="{
                          asiento: numeroAsiento,
                          origen: origen,
                          destino: destino,
                          tipo: tipo,
                          fecharegistro: fecharegistro,
                          placa: placa,
                          hora: hora,
                          precio: precio
                        }"
                        [disabled]="isSeatSold(numeroAsiento)"
                        (click)="openSoldSeatModal(numeroAsiento)">Comprar</button>
                    </ng-container>
                  </td>
                </ng-container>
              </tr>
              <tr *ngIf="rowIndex === 2 || rowIndex === 5">
                <td colspan="10" style="height: 20px;"></td>
              </tr>
            </ng-container>
          </tbody>
        </table>
      </td>
      <td style="width: 60%;">
        <!-- Aquí puedes colocar la imagen que desees -->
        <img src="../../../assets/img/bus_aereo.png" alt="Tu imagen" style="max-width: 80%; height: auto;">
      </td>
    </tr>
  </table>
</ng-container>



<!--

<div class="container mt-3">
  
  <div class="row">
      <ng-container *ngFor="let i of getArrayOfSize(numeroAsientos); let idx = index">
          <div class="col-md-5 mb-2">
              <div class="card" [ngClass]="{'orange-background': isSeatSold(idx + 1)}">
                  <div class="row g-0">
                      <div class="col-md-3 mt-3 mb-2 seat-container">
                          <img src="../../../assets/img/asiento_tierra.png" [routerLink]="isSeatSold(idx + 1) ? null : ['/ventapasaje']"
                              [queryParams]="{
                                  asiento: idx + 1,
                                  origen: origen,
                                  destino: destino,
                                  tipo: tipo,
                                  fecharegistro: fecharegistro,
                                  placa: placa,
                                  hora: hora,
                                  precio: precio
                              }"
                              class="img-fluid rounded-start centered-image cursor-pointer"
                              alt="Imagen del asiento">
                          <div class="d-flex justify-content-center mt-2">
                              <button mat-raised-button color="primary" id="buyButton{{ idx }}"
                                  [routerLink]="isSeatSold(idx + 1) ? null : ['/ventapasaje']"
                                  [queryParams]="{
                                      asiento: idx + 1,
                                      origen: origen,
                                      destino: destino,
                                      tipo: tipo,
                                      fecharegistro: fecharegistro,
                                      placa: placa,
                                      hora: hora,
                                      precio: precio
                                  }"
                                  [disabled]="isSeatSold(idx + 1)"
                                  (click)="openSoldSeatModal(idx + 1)">Comprar</button>
                          </div>
                      </div>
                      <div class="col-md-4">
                          <div class="card-body">
                              <h4 class="card-title">Asiento {{ idx + 1 }}</h4>
                              <p *ngIf="isSeatSold(idx + 1)" class="text-danger">Vendido</p>
                              
                          </div>
                      </div>
                  </div>
              </div>
          </div>
    
      </ng-container>
  </div>
</div>

-->



<!-- Modal -->
<div class="modal fade" id="soldSeatModal" tabindex="-1" role="dialog" aria-labelledby="soldSeatModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="soldSeatModalLabel">Asiento Vendido</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Cerrar">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Este asiento ya ha sido vendido. Por favor, seleccione otro asiento.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
      </div>
    </div>
  </div>
</div>
<p></p>
<br>
<br>
<app-whatsapp></app-whatsapp>
